{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Pricefilter=()=>{const[filteredPosts,setFilteredPosts]=useState([]);const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[priceFilter,setPriceFilter]=useState('lac');// Default filter is 'lac'\nuseEffect(()=>{const fetchFilteredPosts=async()=>{try{setLoading(true);const response=await axios.get('http://127.0.0.1:8000/home/',{params:{price_filter:priceFilter}});setFilteredPosts(response.data.posts);setPosts([]);// Clear all posts when fetching filtered posts\nsetLoading(false);}catch(error){setError(error);setLoading(false);}};fetchFilteredPosts();},[priceFilter]);const handleFilterChange=filter=>{setPriceFilter(filter);};const fetchAllPosts=async()=>{try{setLoading(true);const response=await axios.get('http://127.0.0.1:8000/home/');setPosts(response.data.posts);setFilteredPosts([]);// Clear filtered posts when fetching all posts\nsetLoading(false);}catch(error){setError(error);setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('lac'),children:\"Filter by Lac\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('cr'),children:\"Filter by Crore\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchAllPosts,children:\"Show all\"})]}),/*#__PURE__*/_jsx(\"div\",{children:filteredPosts.length>0?filteredPosts.map(post=>/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:post.name}),/*#__PURE__*/_jsx(\"img\",{src:post.Image_url,alt:post.name,className:\"image\"}),/*#__PURE__*/_jsx(\"h4\",{children:post.price}),/*#__PURE__*/_jsx(\"h4\",{children:post.beds}),/*#__PURE__*/_jsx(\"h4\",{children:post.super_areas}),/*#__PURE__*/_jsx(\"h4\",{children:post.furnishing})]},post.property_id)):posts.map(post=>/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:post.name}),/*#__PURE__*/_jsx(\"img\",{src:post.Image_url,alt:post.name,className:\"image\"}),/*#__PURE__*/_jsx(\"h4\",{children:post.price}),/*#__PURE__*/_jsx(\"h4\",{children:post.beds}),/*#__PURE__*/_jsx(\"h4\",{children:post.super_areas}),/*#__PURE__*/_jsx(\"h4\",{children:post.furnishing})]},post.property_id))})]});};export default Pricefilter;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Pricefilter","filteredPosts","setFilteredPosts","posts","setPosts","loading","setLoading","error","setError","priceFilter","setPriceFilter","fetchFilteredPosts","response","get","params","price_filter","data","handleFilterChange","filter","fetchAllPosts","children","message","onClick","length","map","post","name","src","Image_url","alt","className","price","beds","super_areas","furnishing","property_id"],"sources":["C:/Users/SIDDESH VICHARE/Downloads/Django development/frontend-react/src/Pricefilter.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\nconst Pricefilter = () => {\r\n  const [filteredPosts, setFilteredPosts] = useState([]);\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [priceFilter, setPriceFilter] = useState('lac'); // Default filter is 'lac'\r\n\r\n  useEffect(() => {\r\n    const fetchFilteredPosts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await axios.get('http://127.0.0.1:8000/home/', {\r\n          params: { price_filter: priceFilter }\r\n        });\r\n        setFilteredPosts(response.data.posts);\r\n        setPosts([]); // Clear all posts when fetching filtered posts\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setError(error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchFilteredPosts();\r\n  }, [priceFilter]);\r\n\r\n  const handleFilterChange = (filter) => {\r\n    setPriceFilter(filter);\r\n  };\r\n\r\n  const fetchAllPosts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get('http://127.0.0.1:8000/home/');\r\n      setPosts(response.data.posts);\r\n      setFilteredPosts([]); // Clear filtered posts when fetching all posts\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setError(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>Error: {error.message}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <button onClick={() => handleFilterChange('lac')}>Filter by Lac</button>\r\n        <button onClick={() => handleFilterChange('cr')}>Filter by Crore</button>\r\n        <button onClick={fetchAllPosts}>Show all</button>\r\n      </div>\r\n    <div>\r\n    {filteredPosts.length > 0 ? (\r\n          filteredPosts.map(post => (\r\n            <ul key={post.property_id}>\r\n              <h3>{post.name}</h3>\r\n              <img src={post.Image_url} alt={post.name} className='image'/>\r\n              <h4>{post.price}</h4>\r\n              <h4>{post.beds}</h4>\r\n              <h4>{post.super_areas}</h4>\r\n              <h4>{post.furnishing}</h4>\r\n            </ul>\r\n          ))\r\n        ) : (\r\n          posts.map(post => (\r\n            <ul key={post.property_id}>\r\n              <h3>{post.name}</h3>\r\n              <img src={post.Image_url} alt={post.name} className='image'/>\r\n              <h4>{post.price}</h4>\r\n              <h4>{post.beds}</h4>\r\n              <h4>{post.super_areas}</h4>\r\n              <h4>{post.furnishing}</h4>\r\n            </ul>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pricefilter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}